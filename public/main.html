<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OG Transpo</title>

    <link rel="stylesheet" type="text/css" href="styles.css" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Audiowide&family=Kanit:ital,wght@0,200;0,400;0,700;1,100&display=swap" rel="stylesheet">
</head>
<body>
    <div id="loading_screen">
        <img src="logo.png" alt="logo" width="500px">
        <div class="loader"></div>
    </div>


    <div id="map_container" style="visibility: hidden;">
        <!-- <div id="map"></div> -->
        <button class="game_button green" id="btn_new_transit_line">New Transit Line</button>
        <button class="game_button yellow" id="btn_cancel_transit_line" style="display: none;">Cancel Build</button>
        <button class="game_button" id="btn_manage_system">Manage Transit System</button>
        <button class="game_button" id="btn_transit_density">Commuter Map</button>
        <!--     <button class="game_button" id="btn_neighborhoods">View neighborhoods</button> -->
        <button class="game_button" id="btn_simulate">Simulate</button>
        <button class="game_button" id="btn_settings" style="display: none;">Settings</button>
        <button class="game_button" id="btn_save">Save</button>
        <button class="game_button" id="btn_load">Load</button>
        <button class="game_button" id="btn_zoom_out">-</button>
        <button class="game_button" id="btn_zoom_in">+</button>

        <input type="file" id="load_file_input" style="display: none">

        <div class="ui_bottom" id="budget_bar"><h3 class="result">Budget: </h3><p class="result" id="budget"></p></div>
        
        <div class="ui_message" id="toast">Random message</div>

        <div class="modal" id="simulation_modal">
            <h1>Transit Report</h1>
            <div><h3 class="result">Average transit time: </h3><p class="result" id="tb_transit_time"></p></div>
            <div><h3 class="result">Average transit walking time: </h3><p class="result" id="tb_transit_walking_time"></p></div>
            <div><h3 class="result">Average transit connections: </h3><p class="result" id="tb_connections"></p></div>
            <div><h3 class="result">Longest trip: </h3><p class="result" id="tb_longest"></p></div>
            <div><h3 class="result">Percentage of trips made via transit: </h3><p class="result" id="tb_transit_percentage"></p></div>
            <div class="buttons">
                <button id="btn_show_usage">View Metro Line Usage Statistics</button>
                <button id="btn_close_simulation_modal">Exit</button>
            </div>
        </div>

        <div class="modal" id="build_line_modal">
            <h1>Build new transit line</h1>
            <input type="text" placeholder="Line name" id="input_line_name">
            <p>After planning the route, the cost estimation of the project will be calculated</p>
            <div class="buttons">
                <button class="green" id="btn_build_line_continue">Plan line</button>
                <button id="btn_build_line_cancel">Cancel</button>
            </div>
        </div>

        <div class="modal" id="line_modal">
            <div class="inline">
                <h1 id="line_name">Line 1</h1>
                <input type="text" class="hidden_rename" id="manage_line_rename_input">
                <img class="inline_icon" id="line_edit_name" src="edit_icon.png" alt="edit line name">
                <img class="inline_icon" id="line_cancel_edit_name" src="delete_icon.png" alt="cancel edit line name">
            </div>

            <div class="modal_scroll_container">
                <h2>Line stops</h2>
                <ul id="line_station_list">
                    <li class="manage_bar_item draggable_item station_item" id="line_station_template">
                        <p class="line_station_name">Station 1</p>
                        <button class="btn_manage_delete_line yellow">Remove stop</button>
                        <img src="reorder_icon.png" height="24px" alt="reorder_icon" draggable="false">
                    </li>
                </ul>
            </div>
            
            <div class="buttons">
                <button id="btn_line_close">Close</button>
            </div>
        </div>

        <div class="modal" id="list_template_modal">
            <li class="manage_bar_item draggable_item" id="line_station_template">
                <p class="line_station_name">Station 1</p>
                <button class="btn_manage_delete_line yellow">Remove stop</button>
                <img src="reorder_icon.png" height="20px" alt="reorder_icon" draggable="false">
            </li>
        </div>

        <div class="modal" id="manage_modal">
            <h1>Manage Transit System</h1>
            <div class="modal_scroll_container">
                <div><h3 class="result">Total Budget: </h3><p class="result" id="tb_manage_total_budget"></p></div>
                <div><h3 class="result">Available Budget: </h3><p class="result" id="tb_manage_available_budget"></p></div>
                
                <h2>Transit Lines</h2>
                <ul id="manage_line_list">
                    <li class="manage_bar_item" id="manage_line_template">
                        <p class="manage_line_name"></p>
                        <button class="btn_manage_delete_line yellow">Delete Line</button>
                        <button class="btn_manage_manage_line">Manage Line</button>
                    </li>
                </ul>
            </div>

            <div class="buttons" style="margin-top: 5px;">
                <button id="btn_manage_reset" class="red">Reset Transit System</button>
                <button id="btn_close_manage_modal">Close</button>
            </div>
        </div>

        <div class="modal" id="usage_modal">
            <h1>Transit Usage Statistics</h1>
            <div class="modal_scroll_container">
                <p id="usage_empty_message" style="display: none;">The transit system is currently empty. Add transit lines to improve transit times.</p>
                <div id="usage_tables">
                    <h2>Line Usage</h2>
                    <table id="usage_line_table">
                        <tr style="background-color: lightgrey;">
                            <th>Line name</th>
                            <th>Ride percentage</th>
                            <th>Average trip distance</th>
                        </tr>
                    </table>

                    <h2>Station Usage</h2>
                    <table id="usage_station_table">
                        <tr style="background-color: lightgrey;">
                            <th>Station name</th>
                            <th>Average daily users</th>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="buttons">
                <button id="btn_close_usage_modal">Back to transit report</button>
            </div>

        </div>
        
        <div class="modal" id="confirm_line_modal">
            <h1>Build cost</h1>
            <div><h3 class="result">Total Project Cost: </h3><p class="result" id="tb_line_cost"></p></div>
            <hr>
            <div><h3 class="result">Number of stations built: </h3><p class="result" id="tb_confirm_number_station"></p></div>
            <div><h3 class="result">Station cost: </h3><p class="result" id="tb_confirm_station_cost"></p></div>
            <div><h3 class="result">Length of tunnels/railway built: </h3><p class="result" id="tb_confirm_rail_km"></p></div>
            <div><h3 class="result">Tunnel/railway cost: </h3><p class="result" id="tb_confirm_rail_cost"></p></div>
            <div class="buttons">
                <button class="green" id="btn_confirm_line_continue">Accept proposal and build line</button>
                <button class="yellow" id="btn_confirm_line_cancel">Reject proposal</button>
            </div>
        </div>

        <div class="modal" id="budget_alert_modal">
            <h1>Budget Alert</h1>
            <p>Your current transit system is over budget</p>
            <div class="buttons">
                <button id="btn_budget_alert_dismiss">Dismiss</button>
            </div>
        </div>

        <div class="fixed_modal" id="station_quick_menu">
            <h1 id="station_quick_tb_name">Station menu</h1>
            <input type="text" class="hidden_rename" id="station_quick_rename_input">
            <!-- <button id="station_quick_manage">Manage station</button> -->
            <!-- <button id="station_quick_relocate">Relocate station</button> -->
            <button id="station_quick_rename">Rename station</button>
            <button id="station_quick_move">Move station</button>
            <button id="station_quick_remove" class="red">Remove station</button>
        </div>
    </div>


    <canvas id="canvas" width="900px" height="600px" style="visibility: hidden;"></canvas>
</body>
    <!-- prettier-ignore -->
    <script src="Parameters.js"></script>
    <script src="Point.js"></script>
    <script src="Destination.js"></script>
    <script src="destinations.js"></script>
    <script src="Commuter.js"></script>
    <script src="Station.js"></script>
    <script src="TransitLine.js"></script>
    <script src="TransitStep.js"></script>
    <script src="TransitTrip.js"></script>
    <script src="DraggableList.js"></script>
    <script src="main.js"></script>
</html>